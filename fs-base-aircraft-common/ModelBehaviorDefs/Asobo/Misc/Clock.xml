<ModelBehaviors>
	<Include ModelBehaviorFile="Asobo\Generic.xml"/>
	<Include ModelBehaviorFile="Asobo\Common\Inputs\Instrument_Inputs.xml"/>

	<Template Name="ASOBO_INSTRUMENT_Clock_Template">
		<Parameters Type="Default">
			<ID>1</ID>
		</Parameters>
		<UseTemplate Name="ASOBO_GT_Helper_Suffix_ID_Appender">
			<TEMPLATE_TO_CALL>ASOBO_INSTRUMENT_Clock_SubTemplate</TEMPLATE_TO_CALL>
		</UseTemplate>
	</Template>

	<Template Name="ASOBO_INSTRUMENT_Clock_SubTemplate">
		<Parameters Type="Default">
			<SELECT_BUTTON_NODE_ID>INSTRUMENT_Push_Clock_Select#SUFFIX_ID#</SELECT_BUTTON_NODE_ID>
			<SELECT_BUTTON_ANIM_NAME>INSTRUMENT_Push_Clock_Select#SUFFIX_ID#</SELECT_BUTTON_ANIM_NAME>
			<OAT_BUTTON_NODE_ID>INSTRUMENT_Push_Clock_OAT#SUFFIX_ID#</OAT_BUTTON_NODE_ID>
			<OAT_BUTTON_ANIM_NAME>INSTRUMENT_Push_Clock_OAT#SUFFIX_ID#</OAT_BUTTON_ANIM_NAME>
			<CONTROL_BUTTON_NODE_ID>INSTRUMENT_Push_Clock_Control#SUFFIX_ID#</CONTROL_BUTTON_NODE_ID>
			<CONTROL_BUTTON_ANIM_NAME>INSTRUMENT_Push_Clock_Control#SUFFIX_ID#</CONTROL_BUTTON_ANIM_NAME>
			<Condition Valid="USE_BACKLIGHTING">
				<SCREEN_NODE_ID>INSTRUMENT_Clock_Screen#SUFFIX_ID#</SCREEN_NODE_ID>
			</Condition>
			<WWISE_EVENT_1>clock_push_button_on</WWISE_EVENT_1> 
			<WWISE_EVENT_2>clock_push_button_off</WWISE_EVENT_2>
			<NORMALIZED_TIME_1>0.1</NORMALIZED_TIME_1>
			<NORMALIZED_TIME_2>0.5</NORMALIZED_TIME_2>
			<USE_INPUT_EVENT>INSTRUMENT</USE_INPUT_EVENT>
			<INPUT_EVENT_ID_SOURCE>INSTRUMENT_Clock</INPUT_EVENT_ID_SOURCE>
		</Parameters>
		<Condition Valid="USE_BACKLIGHTING">
			<Component ID="INSTRUMENT_Clock_Screen" Node="#SCREEN_NODE_ID#">
				<UseTemplate Name="ASOBO_GT_Emissive_Gauge">
					<EMISSIVE_CODE>0.5</EMISSIVE_CODE>
				</UseTemplate>
			</Component>
		</Condition>
		<Component ID="Instrument_Clock_Select_Button" Node="#SELECT_BUTTON_NODE_ID#">
			<Parameters Type="Override">
				<BTN_ID>Select</BTN_ID>
			</Parameters>
			<UseInputEvent ID="#USE_INPUT_EVENT#">
				<SET_STATE_EXTERNAL>p0 if{ (&gt;H:oclock_select) }</SET_STATE_EXTERNAL>
				<BINDING_INC_0>Push</BINDING_INC_0>
				<BINDING_INC_0_PARAM_0>1</BINDING_INC_0_PARAM_0>
				<TT_DESCRIPTION_ID>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_SELECT_ACTION</TT_DESCRIPTION_ID>
			</UseInputEvent>
			<UseTemplate Name="ASOBO_GT_Push_Button">
				<ANIM_NAME>#SELECT_BUTTON_ANIM_NAME#</ANIM_NAME>
				<LEFT_SINGLE_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Push)</LEFT_SINGLE_CODE>
				<TOOLTIP_TITLE>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_SELECT_TITLE</TOOLTIP_TITLE>
				<TOOLTIP_ENTRY_0>#INPUT_EVENT_ID_SOURCE#_#BTN_ID#</TOOLTIP_ENTRY_0>
			</UseTemplate>
		</Component>
		<Component ID="Instrument_Clock_OAT_Button" Node="#OAT_BUTTON_NODE_ID#">
			<Parameters Type="Override">
				<BTN_ID>OAT</BTN_ID>
			</Parameters>
			<UseInputEvent ID="#USE_INPUT_EVENT#">
				<SET_STATE_EXTERNAL>p0 if{ (&gt;H:oclock_oat) }</SET_STATE_EXTERNAL>
				<BINDING_INC_0>Push</BINDING_INC_0>
				<BINDING_INC_0_PARAM_0>1</BINDING_INC_0_PARAM_0>
				<TT_DESCRIPTION_ID>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_ACTION</TT_DESCRIPTION_ID>
			</UseInputEvent>
			<UseTemplate Name="ASOBO_GT_Push_Button">
				<ANIM_NAME>#OAT_BUTTON_ANIM_NAME#</ANIM_NAME>
				<LEFT_SINGLE_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Push)</LEFT_SINGLE_CODE>
				<TOOLTIP_TITLE>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_TITLE</TOOLTIP_TITLE>
				<TOOLTIP_ENTRY_0>#INPUT_EVENT_ID_SOURCE#_#BTN_ID#</TOOLTIP_ENTRY_0>
			</UseTemplate>
		</Component>
		<Component ID="Instrument_Clock_Control_Button" Node="#CONTROL_BUTTON_NODE_ID#">
			<Parameters Type="Override">
				<BTN_ID>Control</BTN_ID>
				<LONG_CLICK_TIME>2</LONG_CLICK_TIME>
			</Parameters>
			<UseInputEvent ID="#USE_INPUT_EVENT#">
				<ANIM>HOLD</ANIM>
				<!-- Configure event processing -->
				<SET_ARG_COUNT>2</SET_ARG_COUNT><!-- p0: Press/Release, p1:PressDuration, 0 = infinite (if pressing) -->
				<SET_STATE_EXTERNAL>p0 sp0
					l0 0 == if{ (O:_PressTime) 0 &gt; if{ (E:SIMULATION TIME, second) (O:_PressTime) - #LONG_CLICK_TIME# &lt; if{ (&gt;H:oclock_control) } els{ (&gt;H:oclock_control_long) } 0 (&gt;O:_PressTime) } }
					l0 1 == if{ (E:SIMULATION TIME, second) (&gt;O:_PressTime) p1 (&gt;O:_PressForDuration) }
				</SET_STATE_EXTERNAL>
				<!-- Configure binding for longpress event -->
				<BINDING_SET_0>Push_Long</BINDING_SET_0>
				<BINDING_SET_0_PARAM_0>1</BINDING_SET_0_PARAM_0>
				<BINDING_SET_0_PARAM_1>#LONG_CLICK_TIME#</BINDING_SET_0_PARAM_1>
				<BINDING_INC_0>Push</BINDING_INC_0>
				<BINDING_INC_0_PARAM_0>1</BINDING_INC_0_PARAM_0>
				<BINDING_DEC_0>Release</BINDING_DEC_0>
				<BINDING_DEC_0_PARAM_0>0</BINDING_DEC_0_PARAM_0>
				<TT_DESCRIPTION_ID>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_CONTROL_ACTION</TT_DESCRIPTION_ID>
			</UseInputEvent>
			<UseTemplate Name = "ASOBO_GT_Push_Button_Timed">
				<ANIM_NAME>#CONTROL_BUTTON_ANIM_NAME#</ANIM_NAME>
				<TOOLTIP_TITLE>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_CONTROL_TITLE</TOOLTIP_TITLE>
				<TOOLTIP_ENTRY_0>#INPUT_EVENT_ID_SOURCE#_#BTN_ID#</TOOLTIP_ENTRY_0>
				<!-- Simply push/release the button -->
				<LEFT_SINGLE_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Push)</LEFT_SINGLE_CODE>
				<SHORT_CLICK_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Release)</SHORT_CLICK_CODE>
				<LONG_CLICK_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Release)</LONG_CLICK_CODE>
			</UseTemplate>
		</Component>
	</Template>
	
	<Template Name="ASOBO_INSTRUMENT_OAT_Template">
		<Parameters Type="Default">
			<SELECT_BUTTON_NODE_ID>INSTRUMENT_OAT_Push_Select</SELECT_BUTTON_NODE_ID>
			<SELECT_BUTTON_ANIM_NAME>INSTRUMENT_OAT_Push_Select</SELECT_BUTTON_ANIM_NAME>
			<SCREEN_NODE_ID>INSTRUMENT_OAT_Screen</SCREEN_NODE_ID>
			<WWISE_EVENT_1>misc_oat_push_button_on</WWISE_EVENT_1>
			<WWISE_EVENT_2>misc_oat_push_button_off</WWISE_EVENT_2>
			<USE_INPUT_EVENT>INSTRUMENT</USE_INPUT_EVENT>
			<INPUT_EVENT_ID_SOURCE>INSTRUMENT_Clock</INPUT_EVENT_ID_SOURCE>
		</Parameters>
		<Component ID="INSTRUMENT_OAT_Screen" Node="#SCREEN_NODE_ID#">
			<UseTemplate Name="ASOBO_GT_Emissive_Gauge">
				<EMISSIVE_CODE>0.5</EMISSIVE_CODE>
			</UseTemplate>
		</Component>
		<Component ID="Instrument_OAT_Select_Button" Node="#SELECT_BUTTON_NODE_ID#">
			<Parameters Type="Override">
				<BTN_ID>Select</BTN_ID>
			</Parameters>
			<UseInputEvent ID="#USE_INPUT_EVENT#">
				<SET_STATE_EXTERNAL>p0 if{ (&gt;H:oclock_select) }</SET_STATE_EXTERNAL>
				<BINDING_INC_0>Push</BINDING_INC_0>
				<BINDING_INC_0_PARAM_0>1</BINDING_INC_0_PARAM_0>
				<TT_DESCRIPTION_ID>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_SELECT_ACTION</TT_DESCRIPTION_ID>
			</UseInputEvent>
			<UseTemplate Name="ASOBO_GT_Push_Button">
				<ANIM_NAME>#SELECT_BUTTON_ANIM_NAME#</ANIM_NAME>
				<LEFT_SINGLE_CODE>(&gt;B:#INPUT_EVENT_ID_SOURCE#_#BTN_ID#_Push)</LEFT_SINGLE_CODE>
				<TOOLTIP_TITLE>@TT_Package.INSTRUMENT_PUSH_CLOCKOAT_SELECT_TITLE</TOOLTIP_TITLE>
				<TOOLTIP_ENTRY_0>#INPUT_EVENT_ID_SOURCE#_#BTN_ID#</TOOLTIP_ENTRY_0>
			</UseTemplate>
		</Component>
	</Template>
</ModelBehaviors>