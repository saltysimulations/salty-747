<ModelBehaviors>
	<Include RelativeFile="AS3X.xml"/>
	<Template Name="ASOBO_AS3X_Touch_Knob_Template">
		<Parameters Type="Default">
			<COUNT>36</COUNT>
			<NODE_ID>#AS3X#_Knob_#SUFFIX##SUFFIX_ID#</NODE_ID>
			<ANIM_NAME>#AS3X#_Knob_#SUFFIX##SUFFIX_ID#</ANIM_NAME>
			<PART_ID>#AS3X#_Knob_#SUFFIX#</PART_ID>
			<INC_ID>Knob_#SUFFIX#_INC</INC_ID>
			<DEC_ID>Knob_#SUFFIX#_DEC</DEC_ID>
			<KNOB_ID>Knob_#SUFFIX#</KNOB_ID>
		</Parameters>
		<Component ID="#NODE_ID#" Node="#NODE_ID#">
			<UseTemplate Name="ASOBO_AS3X_Knob_Template">
				<EMISSIVE_CODE>(A:LIGHT POTENTIOMETER:#POTENTIOMETER#, Percent over 100)</EMISSIVE_CODE>
			</UseTemplate>
		</Component>
	</Template>
	<!-- REQ: SUFFIX for auto naming, KEY_ID_OVERRIDE to override key_name if a suffix is supplied or tu use the default naming convention -->
	<Template Name="ASOBO_AS3X_Touch_Push_Template">
		<Parameters Type="Default">
			<BUTTON_POTENTIOMETER>#POTENTIOMETER#</BUTTON_POTENTIOMETER>
			<Condition Check="SUFFIX">
				<NODE_ID>#AS3X#_Push_#SUFFIX##SUFFIX_ID#</NODE_ID>
				<ANIM_NAME>#AS3X#_Push_#SUFFIX##SUFFIX_ID#</ANIM_NAME>
				<PART_ID>#AS3X#_Push_#SUFFIX#</PART_ID>
			</Condition>
			<Condition Check="KEY_ID_OVERRIDE">
				<True>
					<KEY>#KEY_ID_OVERRIDE#_Push</KEY>
				</True>
				<False>
					<Condition Check="SUFFIX">
						<KEY>#SUFFIX#_Push</KEY>
					</Condition>
				</False>
			</Condition>
		</Parameters>
		<UseTemplate Name="ASOBO_AS3X_Push_Button_Template">
			<BTN_ID>#SUFFIX#</BTN_ID>
			<HTML_KEY>#HTML_PREFIX#_#KEY#</HTML_KEY>
			<EMISSIVE_CODE>(A:LIGHT POTENTIOMETER:#BUTTON_POTENTIOMETER#, Percent over 100)</EMISSIVE_CODE>
		</UseTemplate>
	</Template>
	<Template Name="ASOBO_AS3X_Touch_Template">
		<Parameters Type="Default">
			<ID>1</ID>
		</Parameters>
		<UseTemplate Name="ASOBO_GT_Helper_Suffix_ID_Appender">
			<TEMPLATE_TO_CALL>ASOBO_AS3X_Touch_SubTemplate</TEMPLATE_TO_CALL>
		</UseTemplate>
	</Template>
	<Template Name="ASOBO_AS3X_Touch_SubTemplate">
		<Parameters Type="Default">
			<AS3X>AS3X</AS3X>
			<WWISE_PREFIX>as3x</WWISE_PREFIX>
		</Parameters>
		<Parameters Type="Default">
			<POTENTIOMETER>4</POTENTIOMETER>
			<NODE_ID_SCREEN>#AS3X#_Screen#SUFFIX_ID#</NODE_ID_SCREEN>
			<HTML_PREFIX>#AS3X#_Touch#SUFFIX_ID#</HTML_PREFIX>
			<INPUT_EVENT_ID_SOURCE>#AS3X#_Touch#SUFFIX_ID#</INPUT_EVENT_ID_SOURCE>
			<BRIGHTNESS_LVAR>#AS3X#_Touch_Brightness</BRIGHTNESS_LVAR>
		</Parameters>
		<Component ID="#NODE_ID_SCREEN#" Node="#NODE_ID_SCREEN#">
			<UseTemplate Name="ASOBO_GT_Emissive_Gauge">
				<PART_ID>#AS3X#_Touch</PART_ID>
				<EMISSIVE_CODE>0.5 (L:#BRIGHTNESS_LVAR#, number) *</EMISSIVE_CODE>
			</UseTemplate>
		</Component>
		<UseTemplate Name="ASOBO_AS3X_Touch_Push_Template">
			<SUFFIX>Nearest</SUFFIX>
			<KEY_ID_OVERRIDE>NRST</KEY_ID_OVERRIDE>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_PUSH_NEAREST_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_PUSH_NEAREST_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Push_Template">
			<SUFFIX>DirectTo</SUFFIX>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_PUSH_DIRECTTO_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_PUSH_DIRECTTO_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Push_Template">
			<SUFFIX>Menu</SUFFIX>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_PUSH_MENU_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_PUSH_MENU_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Push_Template">
			<SUFFIX>Back</SUFFIX>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_PUSH_BACK_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_PUSH_BACK_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Knob_Template">
			<SUFFIX>Inner_L</SUFFIX>
			<USE_SMALL_ARROWS/>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_LEFT_KNOB_INNER_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_LEFT_KNOB_INNER_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Knob_Template">
			<SUFFIX>Inner_R</SUFFIX>
			<USE_SMALL_ARROWS/>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_RIGHT_KNOB_INNER_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_RIGHT_KNOB_INNER_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Knob_Template">
			<SUFFIX>Outer_L</SUFFIX>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_LEFT_KNOB_OUTER_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_LEFT_KNOB_OUTER_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
		<UseTemplate Name="ASOBO_AS3X_Touch_Knob_Template">
			<SUFFIX>Outer_R</SUFFIX>
			<TT_DESCRIPTION_ID>@TT_Package.AS3X_RIGHT_KNOB_OUTER_ACTION</TT_DESCRIPTION_ID>
			<TOOLTIP_TITLE>@TT_Package.AS3X_RIGHT_KNOB_OUTER_TITLE</TOOLTIP_TITLE>
		</UseTemplate>
	</Template>
	<!-- REQ: NODE_ID (name of the screen node) // AMBIENT_POTENTIOMETER: ID of the potentiometer driving ambient light (found in system.cfg) -->
	<Template Name="ASOBO_AS3X_Touch_Screen_Template">
		<Parameters Type="Default">
			<POTENTIOMETER>4</POTENTIOMETER>
			<LIGHT_DIMMING_SCALE>0.3</LIGHT_DIMMING_SCALE>
			<SCREEN_LIGHT_DIMMING_SCALE>0.5</SCREEN_LIGHT_DIMMING_SCALE>
			<SCREEN_MIN_EMISSIVE_PERCENT>0.05</SCREEN_MIN_EMISSIVE_PERCENT>
			<MIN_AMBIENT_EMISSIVE_PERCENT>0.1</MIN_AMBIENT_EMISSIVE_PERCENT>
			<MAX_EMISSIVE_PERCENT>1</MAX_EMISSIVE_PERCENT>
			<INSTR_ID>1</INSTR_ID>
			<AS3X>AS3X</AS3X>
		</Parameters>
		<Parameters Type="Default">
			<KEY_PREFIX>#AS3X#_Touch_#INSTR_ID#</KEY_PREFIX>
			<SCREEN_EMISSIVE_CODE>(A:LIGHT POTENTIOMETER:#POTENTIOMETER#, Percent over 100) (L:AS3X_Touch_Brightness, number) * #SCREEN_LIGHT_DIMMING_SCALE# * #MAX_EMISSIVE_PERCENT# #SCREEN_MIN_EMISSIVE_PERCENT# - * #SCREEN_MIN_EMISSIVE_PERCENT# +</SCREEN_EMISSIVE_CODE>
			<Condition Check="CIRCUIT_ID">
				<True>
					<FAILURE>(A:CIRCUIT ON:#CIRCUIT_ID#, Bool)</FAILURE>
				</True>
				<False>
					<FAILURE>(A:CIRCUIT GENERAL PANEL ON:0, Bool)</FAILURE>
				</False>
			</Condition>
			<NODE_ID>#AS3X#_Screen_#INSTR_ID#_#ID#</NODE_ID>
		</Parameters>
		<Condition NotEmpty="AMBIENT_POTENTIOMETER">
			<Component ID="#AS3X#_Touch_Ambient_#INSTR_ID#_#ID#">
				<UseTemplate Name="ASOBO_LIGHTING_Ambient_Template">
					<BOUNCE_POTENTIOMETER_PERCENT>
						(L:#KEY_PREFIX#_ScreenLuminosity) (A:LIGHT POTENTIOMETER:#POTENTIOMETER#, Percent over 100) #MAX_EMISSIVE_PERCENT# #SCREEN_MIN_EMISSIVE_PERCENT# - * * #MIN_AMBIENT_EMISSIVE_PERCENT# + #FAILURE# * 100 *
					</BOUNCE_POTENTIOMETER_PERCENT>
					<POTENTIOMETER>#AMBIENT_POTENTIOMETER#</POTENTIOMETER>
				</UseTemplate>
			</Component>
		</Condition>
		<UseTemplate Name="ASOBO_GT_Component_Emissive_Gauge">
			<PART_ID>#AS3X#_Touch</PART_ID>
			<POTENTIOMETER/>
			<EMISSIVE_CODE>#SCREEN_EMISSIVE_CODE#</EMISSIVE_CODE>
		</UseTemplate>
	</Template>
</ModelBehaviors>